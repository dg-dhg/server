<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <title>Title</title>
</head>
<body>
<div class="container">

    <div class="row clearfix" th:fragment="indexnavbar">
        <div class="col-md-12 column">
            <nav class="navbar navbar-default" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1"><span
                            class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span
                            class="icon-bar"></span><span class="icon-bar"></span></button>
                    <a class="navbar-brand" href="#">Brand</a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="#">Link</a>
                        </li>
                        <li>
                            <a href="#">Link</a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong
                                    class="caret"></strong></a>
                        </li>
                    </ul>
                    <form class="navbar-form navbar-left" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control"/>
                        </div>
                        <button type="submit" class="btn btn-default">Submit</button>
                    </form>
                    <!--todo 通过判断登陆情况控制显示内容-->

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a th:href="@{/loginUser/index}">首页</a>
                        </li>
                        <li>
                            <div sec:authorize="!isAuthenticated()">
                                <a class="item" th:href="@{/loginUser/login}">
                                    <i class="icon-tag"></i>登录
                                </a>
                            </div>
                        </li>
                        <!--todo 如果登录了 获取用户及其权限-->
                        <li>
                            <div sec:authorize="isAuthenticated()">
                                <a class="item">
                                    用户名: <span sec:authentication="name"></span>
                                    角色: <span sec:authentication=""></span>
                                </a>
                            </div>
                        </li>
                        <li>
                            <div sec:authorize="isAuthenticated()">
                                <a class="item" th:href="@{/logout}">
                                    <i class="icon-tag"></i>注销
                                </a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong
                                    class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#">Action</a>
                                </li>
                                <li>
                                    <a href="#">Another action</a>
                                </li>
                                <li>
                                    <a href="#">Something else here</a>
                                </li>
                                <li class="divider">
                                </li>
                                <li>
                                    <a href="#">Separated link</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

            </nav>
        </div>
    </div>

    <div class="row clearfix">
        <div class="col-md-12 column">
            <h3 class="text-center">
                index
            </h3>
        </div>
    </div>

    <!--todo 在这里做身份的判断-->
    <div class="row clearfix">
        <div class="col-md-4 column" sec:authorize="hasRole('vip1')">
            <ul>
                <li>
                    <a th:href="@{/loginUser/level1/1}">1-1</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level1/2}">1-2</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level1/3}">1-3</a>
                </li>
            </ul>
        </div>
        <div class="col-md-4 column" sec:authorize="hasRole('vip2')">
            <ul>
                <li>
                    <a th:href="@{/loginUser/level2/1}">2-1</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level2/2}">2-2</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level2/3}">2-3</a>
                </li>
            </ul>
        </div>
        <div class="col-md-4 column" sec:authorize="hasRole('vip3')">
            <ul>
                <li>
                    <a th:href="@{/loginUser/level3/1}">3-1</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level3/2}">3-2</a>
                </li>
                <li>
                    <a th:href="@{/loginUser/level3/3}">3-3</a>
                </li>
            </ul>
        </div>
    </div>
</div>
</body>
</html>